<!-- 构建一个field -->
{% macro render_field(field) %}
    <div class="control-group">
        <label class="control-label">{{ field.label }}</label>
        <div class="controls">
        <td>{{ field(**kwargs) | safe }}
        {% if field.flags.required %}*{% endif %}
        {{ render_tip(field) }}
        {{ render_errors(field) }}
        </div>
    </div>
{% endmacro %}

<!-- 构建错误信息 -->
{% macro render_errors(field) %}
    {% if field.errors %}
    <div class="alert alert-error">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <ul>
            {% for error in field.errors %}
            <li>{{ error }}</li>
            {% endfor %}      
        </ul>
    </div>
    {% endif %}
{% endmacro %}

<!-- 构建提示信息 -->
{% macro render_tip(field) %}
    {% if field.description %}
    <span class="tips">{{ field.description }}</span>
    {% endif %}
{% endmacro %}